"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(a=(3>i?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0};require("jquery");var core_1=require("@angular/core"),user_1=require("./user"),login_service_1=require("./login.service"),LoginFormComponent=function(){function e(e){this.loginService=e,this.user=new user_1.User,this.alertMessage="",this.$loginModal=null}return e.prototype.ngOnInit=function(){var e=this;this.$loginModal=$("#login-modal").modal(),$(document).on("click",".log-in-link",function(t){e.$loginModal.modal("show")})},e.prototype.sendLogin=function(){var e=this;this.loginService.send(this.user).then(function(t){"success"===t.status?(e.$loginModal.modal("hide"),e.alertMessage="",e.user.reset()):e.alertMessage=t.message})},__decorate([core_1.ViewChild("childModal"),__metadata("design:type",Object)],e.prototype,"childModal",void 0),e=__decorate([core_1.Component({selector:"login-form",templateUrl:window.GlobalVariables.app.templateSrc+"login/login-form.html"}),__metadata("design:paramtypes",[login_service_1.LoginService])],e)}();exports.LoginFormComponent=LoginFormComponent;