var __decorate=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=3>i?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(3>i?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0};System.register("user",[],function(e,t){"use strict";var o;t&&t.id;return{setters:[],execute:function(){o=function(){function e(){this.errors={email:"",password:""}}return e.prototype.reset=function(){this.email="",this.password=""},e}(),e("User",o)}}}),System.register("login.service",["@angular/core","@angular/http","rxjs/add/operator/toPromise"],function(e,t){"use strict";var o,n,r;t&&t.id;return{setters:[function(e){o=e},function(e){n=e},function(e){}],execute:function(){r=function(){function e(e){this.http=e,this.headers=new n.Headers({"Content-Type":"application/json"}),this.apiUrl="api/login"}return e.prototype.handleError=function(e){return console.error("An error occurred",e),Promise.reject(e.message||e)},e.prototype.send=function(e){var t={};return t.email=e.email,t.password=e.password,this.http.post(this.apiUrl,t,{headers:this.headers}).toPromise().then(function(e){return e.json()})},e=__decorate([o.Injectable(),__metadata("design:paramtypes",[n.Http])],e)}(),e("LoginService",r)}}}),System.register("login-form.component",["@angular/core","user","login.service"],function(e,t){"use strict";var o,n,r,i;t&&t.id;return{setters:[function(e){o=e},function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e){this.loginService=e,this.user=new n.User,this.alertMessage=""}return e.prototype.ngOnInit=function(){console.log("login form init 3"),this.$loginModal=$("#login-modal").modal("hide"),this.initEventOpener(),this.loginModal=document.getElementById("login-modal")},e.prototype.initEventOpener=function(){var e=this,t=document.querySelector(".log-in-link");console.log("openEl:",t),t.addEventListener("click",function(t){console.log("click:",t),console.log("this.loginModal",e.$loginModal),e.$loginModal.modal("show")})},e.prototype.sendLogin=function(){var e=this;this.loginService.send(this.user).then(function(t){e.alertMessage=t.message,e.user.reset()})},__decorate([o.ViewChild("childModal"),__metadata("design:type",Object)],e.prototype,"childModal",void 0),e=__decorate([o.Component({selector:"login-form",templateUrl:window.GlobalVariables.app.templateSrc+"login/login-form.html"}),__metadata("design:paramtypes",[r.LoginService])],e)}(),e("LoginFormComponent",i)}}}),System.register("app.module",["@angular/core","@angular/platform-browser","@angular/forms","@angular/http","login.service","login-form.component"],function(e,t){"use strict";var o,n,r,i,a,s,c;t&&t.id;return{setters:[function(e){o=e},function(e){n=e},function(e){r=e},function(e){i=e},function(e){a=e},function(e){s=e}],execute:function(){c=function(){function e(){}return e=__decorate([o.NgModule({imports:[n.BrowserModule,r.FormsModule,i.HttpModule],declarations:[s.LoginFormComponent],providers:[a.LoginService],bootstrap:[s.LoginFormComponent]}),__metadata("design:paramtypes",[])],e)}(),e("AppModule",c)}}}),System.register("main",["@angular/platform-browser-dynamic","@angular/core","app.module"],function(e,t){"use strict";var o,n,r;t&&t.id;return{setters:[function(e){o=e},function(e){n=e},function(e){r=e}],execute:function(){"production"===window.GlobalVariables.environment&&n.enableProdMode(),o.platformBrowserDynamic().bootstrapModule(r.AppModule)}}});